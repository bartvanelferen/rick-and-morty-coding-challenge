{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../../../assets/styles/components/CharacterCard.css';import axios from\"axios\";import{API_URL,DEFAULT_CHARACTER,ENDPOINTS}from\"../../../global/Constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CharacterCardExtended=_ref=>{let{id,showExtendedCard}=_ref;const totalEpisodes=51;const[characterData,setCharacterData]=useState(DEFAULT_CHARACTER);const[episodeData,setEpisodeData]=useState([]);const[episodes,setEpisodes]=useState([]);const getEpisodeIDs=urls=>{return urls.map(url=>{return url.split('/episode/')[1];});};const fetchCharacterData=async()=>{try{const response=await axios.get(\"\".concat(API_URL).concat(ENDPOINTS.characters,\"/\").concat(id));setCharacterData(response.data);setEpisodes(getEpisodeIDs(response.data.episode));}catch(error){console.log('Error',error);}};const fetchEpisodeData=async()=>{try{const response=await axios.get(\"\".concat(API_URL).concat(ENDPOINTS.episodes,\"/\").concat(episodes.join(',')));setEpisodeData(Array.isArray(response.data)?response.data:[response.data]);}catch(error){console.log('Error',error);}};useEffect(()=>{void fetchCharacterData();},[showExtendedCard]);useEffect(()=>{void fetchEpisodeData();},[episodes]);return/*#__PURE__*/_jsxs(\"div\",{className:\"character character-extended\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"character__image-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{alt:characterData.name,src:characterData.image}),/*#__PURE__*/_jsxs(\"div\",{className:\"character__basic-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:characterData.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"character__status\",children:[/*#__PURE__*/_jsx(\"span\",{className:characterData.status.toLowerCase()}),\"\".concat(characterData.status,\" - \").concat(characterData.species)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"character__basic-content-section\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Location\"}),characterData.location.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"character__basic-content-section\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Gender\"}),characterData.gender]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"character__content-wrapper\",children:episodeData.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Episodes (\".concat(episodeData.length,\" / \").concat(totalEpisodes,\"):\")}),/*#__PURE__*/_jsx(\"ul\",{className:\"character__content-episodes\",children:episodeData.map((episode,index)=>/*#__PURE__*/_jsx(\"li\",{children:episode.name},index))})]}):null})]});};export default CharacterCardExtended;","map":{"version":3,"names":["React","useEffect","useState","axios","API_URL","DEFAULT_CHARACTER","ENDPOINTS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CharacterCardExtended","_ref","id","showExtendedCard","totalEpisodes","characterData","setCharacterData","episodeData","setEpisodeData","episodes","setEpisodes","getEpisodeIDs","urls","map","url","split","fetchCharacterData","response","get","concat","characters","data","episode","error","console","log","fetchEpisodeData","join","Array","isArray","className","children","alt","name","src","image","status","toLowerCase","species","location","gender","length","index"],"sources":["/Users/bartvanelferen/Desktop/Projects/rick-and-morty-app/src/components/Charaters/CharacterCard/CharacterCardExtended.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport '../../../assets/styles/components/CharacterCard.css'\nimport axios from \"axios\";\nimport {API_URL, DEFAULT_CHARACTER, ENDPOINTS} from \"../../../global/Constants\";\nimport {CharacterExtendedCard, CharacterExtended, Episode} from '../../../global/Interfaces';\n\nconst CharacterCardExtended = ({\n    id,\n    showExtendedCard\n}: CharacterExtendedCard) => {\n    const totalEpisodes: number = 51;\n\n    const [characterData, setCharacterData] = useState<CharacterExtended>(DEFAULT_CHARACTER);\n    const [episodeData, setEpisodeData] = useState<Episode[]>([]);\n    const [episodes, setEpisodes] = useState<Array<string>>([]);\n\n    const getEpisodeIDs = (urls: Array<string>) => {\n        return urls.map(url => {\n            return url.split('/episode/')[1];\n        });\n    };\n\n    const fetchCharacterData = async (): Promise<void> => {\n        try {\n            const response = await axios.get(`${API_URL}${ENDPOINTS.characters}/${id}`);\n            setCharacterData(response.data);\n            setEpisodes(getEpisodeIDs(response.data.episode));\n        } catch (error) {\n            console.log('Error', error);\n        }\n    };\n\n    const fetchEpisodeData = async () => {\n        try {\n            const response = await axios.get(`${API_URL}${ENDPOINTS.episodes}/${episodes.join(',')}`);\n            setEpisodeData(Array.isArray(response.data) ? response.data : [response.data]);\n        } catch (error) {\n            console.log('Error', error);\n        }\n    };\n\n    useEffect((): void => {\n        void fetchCharacterData();\n    }, [showExtendedCard]);\n\n    useEffect((): void => {\n        void fetchEpisodeData();\n    }, [episodes]);\n\n    return (\n        <div className=\"character character-extended\">\n            <div className=\"character__image-wrapper\">\n                <img alt={characterData.name} src={characterData.image}/>\n                <div className=\"character__basic-content\">\n                    <h2>{characterData.name}</h2>\n                    <p className=\"character__status\">\n                        <span className={characterData.status.toLowerCase()}></span>\n                        {`${characterData.status} - ${characterData.species}`}\n                    </p>\n                    <p className=\"character__basic-content-section\">\n                        <span>Location</span>\n                        {characterData.location.name}\n                    </p>\n                    <p className=\"character__basic-content-section\">\n                        <span>Gender</span>\n                        {characterData.gender}\n                    </p>\n                </div>\n            </div>\n            <div className=\"character__content-wrapper\">\n                {episodeData.length > 0 ? (\n                    <>\n                        <h3>{`Episodes (${episodeData.length} / ${totalEpisodes}):`}</h3>\n                        <ul className=\"character__content-episodes\">\n                            {episodeData.map((episode: Episode, index: number) => (\n                                <li key={index}>{episode.name}</li>\n                            ))}\n                        </ul>\n                    </>\n                ) : null}\n            </div>\n        </div>\n    );\n};\n\nexport default CharacterCardExtended;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}